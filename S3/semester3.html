<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MI: Semester 3 Grade Calculator</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" type="image/png" href="../favicon.png">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-16HX7EDPMW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-16HX7EDPMW');
    </script>
    <script>
        // Immediately apply saved theme to prevent flash of unstyled content
        (function () {
            // Get theme from localStorage
            const savedTheme = localStorage.getItem('preferredTheme');

            // Define themes (must match the ones in your main script)
            const themes = {
                light: {
                    '--bg-color': '#ffffff',
                    '--text-color': '#1a1a1a',
                    '--primary': '#4f46e5',
                    '--border-color': '#e0e7ff',
                    '--input-bg': '#f8fafc',
                    '--module-bg': '#ffffff',
                    '--unit-bg': 'linear-gradient(to bottom right, #eef2ff, #ffffff)'
                },
                dark: {
                    '--bg-color': '#1a1a1a',
                    '--text-color': '#f8fafc',
                    '--primary': '#818cf8',
                    '--border-color': '#374151',
                    '--input-bg': '#2a2a2a',
                    '--module-bg': '#222222',
                    '--unit-bg': 'linear-gradient(to bottom right, #1f2937, #111827)'
                },
                forest: {
                    '--bg-color': '#f8faf8',
                    '--text-color': '#1e3a29',
                    '--primary': '#2d6a4f',
                    '--border-color': '#d8f3dc',
                    '--input-bg': '#f1f8f2',
                    '--module-bg': '#ffffff',
                    '--unit-bg': 'linear-gradient(to bottom right, #e9f5ec, #ffffff)'
                },
                ocean: {
                    '--bg-color': '#f0f4f8',
                    '--text-color': '#0d3b66',
                    '--primary': '#1e6091',
                    '--border-color': '#caf0f8',
                    '--input-bg': '#ecf5fc',
                    '--module-bg': '#ffffff',
                    '--unit-bg': 'linear-gradient(to bottom right, #e0f7fa, #ffffff)'
                },
                sunset: {
                    '--bg-color': '#fff8f3',
                    '--text-color': '#6a3d2b',
                    '--primary': '#e76f51',
                    '--border-color': '#ffefeb',
                    '--input-bg': '#fff8f5',
                    '--module-bg': '#ffffff',
                    '--unit-bg': 'linear-gradient(to bottom right, #ffeeeb, #ffffff)'
                }
            };

            // Apply theme if saved
            if (savedTheme && themes[savedTheme]) {
                Object.entries(themes[savedTheme]).forEach(([property, value]) => {
                    document.documentElement.style.setProperty(property, value);
                });
            }
        })();
    </script>
</head>

<body>
    <div class="container">
        <nav class="semester-nav">
            <a href="../index.html">Home</a>
            <a href="../themes.html">Themes</a>
            <a href="../S1/semester1.html">Semester 1</a>
            <a href="../S2/semester2.html">Semester 2</a>
            <a href="../S3/semester3.html" class="active">Semester 3</a>
            <a href="../S4/semester4.html">Semester 4</a>
        </nav>

        <div class="card">
            <div class="card-header">
                <h1 class="card-title">MI: Semester 3 Grade Calculator</h1>
            </div>

            <div class="card-content" style="padding: 1.5rem;">
                <div id="unitSections"></div>
                <div id="resultsContainer" class="results">
                    <h3 id="finalResult">Final Result: 0.00</h3>
                </div>

                <!-- Save/Load Section -->
                <div class="save-load-container">
                    <button id="saveButton">Save Current Grades</button>
                    <button id="loadButton">Load Saved Grades</button>
                </div>

                <!-- Saved Grades List -->
                <div class="saves-list" id="savesList">
                    <h4>Saved Grades:</h4>
                    <!-- Saved grades will appear here -->
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>MI Grade Calculator &copy; 2025 | For University Constantine 2 NTIC students | Student-created tool</p>
            <p class="contact-info">Contact: <a href="https://t.me/Yacine_med87" target="_blank" class="telegram-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path
                            d="M21.198 2.433a2.242 2.242 0 0 0-1.022.215l-8.609 3.33c-2.068.8-4.133 1.598-5.724 2.21a405.15 405.15 0 0 1-2.849 1.09c-.42.147-.99.332-1.473.901-.728.968.193 1.798.919 2.286 1.61.516 3.275 1.009 4.654 1.472.846 1.467 1.618 2.92 2.463 4.361.9 1.52 2.22 3.507 3.88 3.507 1.924 0 2.693-1.726 3.404-3.48.545-1.343 1.336-3.294 1.8-4.427l1.453-5.646 1.22-4.735c.365-1.423.256-2.615-.313-3.34-.583-.733-1.62-1.123-2.809-1.123a4.88 4.88 0 0 0-1.008.118z">
                        </path>
                    </svg>
                    Telegram</a>
            </p>
        </footer>
    </div>
    <script src="../script_common.js"></script>
    <script src="script_semester3.js"></script>
</body>

</html>